<%= form_tag heart_rhythms_path(format: :json), method: :get,
    class: "w-1/8 inline-block mt-2",
    data: {
      chart_target: "form",
      action: "chart#update change->chart#update",
    } do %>
  <div class="isolate -space-y-px rounded-md shadow-sm my-2">
    <div class="relative rounded-md rounded-b-none px-3 pt-2.5 pb-1.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600">
      <label for="from" class="block text-xs font-medium text-gray-900">from</label>
      <%= datetime_field_tag :from, @from, min: @min_time, max: @max_time,
          class: "block border-0 p-0 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6" %>
    </div>

    <div class="relative rounded-md rounded-t-none px-3 pt-2.5 pb-1.5 ring-1 ring-inset ring-gray-300 focus-within:z-10 focus-within:ring-2 focus-within:ring-indigo-600">
      <label for="to" class="block text-xs font-medium text-gray-900">to</label>
      <%= datetime_field_tag :to, @to, min: @min_time, max: @max_time,
          class: "block border-0 p-0 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6" %>
    </div>
  </div>

  <div class="mt-2 flex rounded-md shadow-sm">
    <span class="inline-flex items-center rounded-l-md border border-r-0 border-gray-300 px-3 text-gray-900 sm:text-sm">
      resolution
    </span>
    <%= number_field_tag :resolution, @resolution, min: 2, max: 5,
        class: "block w-full min-w-0 flex-1 rounded-none rounded-r-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" %>
  </div>
<% end %>

<figure class="highcharts-figure w-3/4 inline-block" data-chart-target="chart">
  <div id="container"></div>
</figure>
