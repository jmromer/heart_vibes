var o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var s={};(function(o){s?(o.default=o,s=o):o("undefined"!==typeof Highcharts?Highcharts:void 0)})((function(s){function r(o,s,i,u){o.hasOwnProperty(s)||(o[s]=u.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:o[s]}})))}s=s?s._modules:{};r(s,"Core/HttpUtilities.js",[s["Core/Globals.js"],s["Core/Utilities.js"]],(function(o,s){var i=o.doc,u=s.createElement,l=s.discardElement,d=s.merge,p=s.objectEach,c={ajax:function(o){var s={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},i=new XMLHttpRequest;if(!o.url)return!1;i.open((o.type||"get").toUpperCase(),o.url,!0);o.headers&&o.headers["Content-Type"]||i.setRequestHeader("Content-Type",s[o.dataType||"json"]||s.text);p(o.headers,(function(o,s){i.setRequestHeader(s,o)}));o.responseType&&(i.responseType=o.responseType);i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status){if("blob"!==o.responseType){var s=i.responseText;if("json"===o.dataType)try{s=JSON.parse(s)}catch(s){if(s instanceof Error){o.error&&o.error(i,s);return}}}return o.success&&o.success(s,i)}o.error&&o.error(i,i.responseText)}};o.data&&"string"!==typeof o.data&&(o.data=JSON.stringify(o.data));i.send(o.data)},getJSON:function(o,s){c.ajax({url:o,success:s,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(o,s,c){var m=u("form",d({method:"post",action:o,enctype:"multipart/form-data"},c),{display:"none"},i.body);p(s,(function(o,s){u("input",{type:"hidden",name:s,value:o},void 0,m)}));m.submit();l(m)}};"";return c}));r(s,"Extensions/Data.js",[s["Core/Chart/Chart.js"],s["Core/Defaults.js"],s["Core/Globals.js"],s["Core/HttpUtilities.js"],s["Core/Series/Point.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],(function(s,i,u,l,d,p,c){function t(o){return!(!o||!(o.rowsURL||o.csvURL||o.columnsURL))}var m=i.getOptions,v=u.doc,y=l.ajax,C=p.seriesTypes;i=c.addEvent;var x=c.defined,T=c.extend,R=c.fireEvent,N=c.isNumber,Y=c.merge,D=c.objectEach,w=c.pick,A=c.splat,U=function(){function a(s,i,u){void 0===i&&(i={});(this||o).rowsToColumns=a.rowsToColumns;(this||o).dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(o){return o?Date.UTC(+o[1],o[2]-1,+o[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(o){return o?Date.UTC(+o[3],o[2]-1,+o[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(o){return o?Date.UTC(+o[3],o[1]-1,+o[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(o){if(!o)return NaN;var s=+o[3];s=s>(new Date).getFullYear()-2e3?s+1900:s+2e3;return Date.UTC(s,o[2]-1,+o[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(o){return o?Date.UTC(+o[3]+2e3,o[1]-1,+o[2]):NaN}}};(this||o).chart=u;(this||o).chartOptions=i;(this||o).options=s;(this||o).rawColumns=[];this.init(s,i,u)}a.data=function(o,s,i){void 0===s&&(s={});return new a(o,s,i)};a.rowsToColumns=function(o){var s,i;if(o){var u=[];var l=o.length;for(s=0;s<l;s++){var d=o[s].length;for(i=0;i<d;i++)u[i]||(u[i]=[]),u[i][s]=o[s][i]}}return u};a.prototype.init=function(s,i,u){var l=s.decimalPoint;i&&((this||o).chartOptions=i);u&&((this||o).chart=u);"."!==l&&","!==l&&(l=void 0);(this||o).options=s;(this||o).columns=s.columns||this.rowsToColumns(s.rows)||[];(this||o).firstRowAsNames=w(s.firstRowAsNames,(this||o).firstRowAsNames,!0);(this||o).decimalRegex=l&&new RegExp("^(-?[0-9]+)"+l+"([0-9]+)$");void 0!==(this||o).liveDataTimeout&&clearTimeout((this||o).liveDataTimeout);(this||o).rawColumns=[];if((this||o).columns.length){this.dataFound();var d=!t(s)}d||(d=this.fetchLiveData());d||(d=!!this.parseCSV().length);d||(d=!!this.parseTable().length);d||(d=this.parseGoogleSpreadsheet());!d&&s.afterComplete&&s.afterComplete()};a.prototype.getColumnDistribution=function(){var s=(this||o).chartOptions,i=(this||o).options,u=[],e=function(o){return(C[o||"line"].prototype.pointArrayMap||[0]).length},l=s&&s.chart&&s.chart.type,d=[],p=[];i=i&&i.seriesMapping||s&&s.series&&s.series.map((function(){return{x:0}}))||[];var c,m=0;(s&&s.series||[]).forEach((function(o){d.push(e(o.type||l))}));i.forEach((function(o){u.push(o.x||0)}));0===u.length&&u.push(0);i.forEach((function(o){var i=new j,u=d[m]||e(l),v=(s&&s.series||[])[m]||{},y=C[v.type||l||"line"].prototype.pointArrayMap,T=y||["y"];(x(o.x)||v.isCartesian||!y)&&i.addColumnReader(o.x,"x");D(o,(function(o,s){"x"!==s&&i.addColumnReader(o,s)}));for(c=0;c<u;c++)i.hasReader(T[c])||i.addColumnReader(void 0,T[c]);p.push(i);m++}));i=C[l||"line"].prototype.pointArrayMap;"undefined"===typeof i&&(i=["y"]);(this||o).valueCount={global:e(l),xColumns:u,individual:d,seriesBuilders:p,globalPointArrayMap:i}};a.prototype.dataFound=function(){(this||o).options.switchRowsAndColumns&&((this||o).columns=this.rowsToColumns((this||o).columns));this.getColumnDistribution();this.parseTypes();!1!==this.parsed()&&this.complete()};a.prototype.parseCSV=function(s){function g(o,s,i,l){function f(s){v=o[s];y=o[s-1];C=o[s+1]}function e(o){c.length<N+1&&c.push([o]);c[N][c[N].length-1]!==o&&c[N].push(o)}function n(){d>R||R>p?(++R,T=""):(!isNaN(parseFloat(T))&&isFinite(T)?(T=parseFloat(T),e("number")):isNaN(Date.parse(T))?e("string"):(T=T.replace(/\//g,"-"),e("date")),u.length<N+1&&u.push([]),i||(u[N][s]=T),T="",++N,++R)}var m=0,v="",y="",C="",T="",R=0,N=0;if(o.trim().length&&"#"!==o.trim()[0]){for(;m<o.length;m++)if(f(m),'"'===v)for(f(++m);m<o.length&&('"'!==v||'"'===y||'"'===C);){('"'!==v||'"'===v&&'"'!==y)&&(T+=v);f(++m)}else l&&l[v]?l[v](v,T)&&n():v===x?n():T+=v;n()}}function a(o){var s=0,u=0,d=!1;o.some((function(o,i){var l=!1,d="";if(13<i)return!0;for(var p=0;p<o.length;p++){i=o[p];var c=o[p+1];var v=o[p-1];if("#"===i)break;if('"'===i)if(l){if('"'!==v&&'"'!==c){for(;" "===c&&p<o.length;)c=o[++p];"undefined"!==typeof m[c]&&m[c]++;l=!1}}else l=!0;else"undefined"!==typeof m[i]?(d=d.trim(),isNaN(Date.parse(d))&&!isNaN(d)&&isFinite(d)||m[i]++,d=""):d+=i;","===i&&u++;"."===i&&s++}}));d=m[";"]>m[","]?";":",";l.decimalPoint||(l.decimalPoint=s>u?".":",",i.decimalRegex=new RegExp("^(-?[0-9]+)"+l.decimalPoint+"([0-9]+)$"));return d}function e(o,s){var u,d=[],p=[],c=[],m=0,v=!1;(!s||s>o.length)&&(s=o.length);for(;m<s;m++)if("undefined"!==typeof o[m]&&o[m]&&o[m].length){var y=o[m].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" ");c=["","",""];for(u=0;u<y.length;u++)u<c.length&&(y[u]=parseInt(y[u],10),y[u]&&(p[u]=!p[u]||p[u]<y[u]?y[u]:p[u],"undefined"!==typeof d[u]?d[u]!==y[u]&&(d[u]=!1):d[u]=y[u],31<y[u]?c[u]=100>y[u]?"YY":"YYYY":12<y[u]&&31>=y[u]?(c[u]="dd",v=!0):c[u].length||(c[u]="mm")))}if(v){for(u=0;u<d.length;u++)!1!==d[u]?12<p[u]&&"YY"!==c[u]&&"YYYY"!==c[u]&&(c[u]="YY"):12<p[u]&&"mm"===c[u]&&(c[u]="dd");3===c.length&&"dd"===c[1]&&"dd"===c[2]&&(c[2]="YY");o=c.join("/");return(l.dateFormats||i.dateFormats)[o]?o:(R("deduceDateFailed"),"YYYY/mm/dd")}return"YYYY/mm/dd"}var i=this||o,u=(this||o).columns=[],l=s||(this||o).options,d="undefined"!==typeof l.startColumn&&l.startColumn?l.startColumn:0,p=l.endColumn||Number.MAX_VALUE,c=[],m={",":0,";":0,"\t":0},v=l.csv;s="undefined"!==typeof l.startRow&&l.startRow?l.startRow:0;var y=l.endRow||Number.MAX_VALUE,C=0;v&&l.beforeParse&&(v=l.beforeParse.call(this||o,v));if(v){v=v.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(l.lineDelimiter||"\n");(!s||0>s)&&(s=0);(!y||y>=v.length)&&(y=v.length-1);if(l.itemDelimiter)var x=l.itemDelimiter;else x=null,x=a(v);var T=0;for(C=s;C<=y;C++)"#"===v[C][0]?T++:g(v[C],C-s-T);l.columnTypes&&0!==l.columnTypes.length||!c.length||!c[0].length||"date"!==c[0][1]||l.dateFormat||(l.dateFormat=e(u[0]));this.dataFound()}return u};a.prototype.parseTable=function(){var s=(this||o).options,i=(this||o).columns||[],u=s.startRow||0,l=s.endRow||Number.MAX_VALUE,d=s.startColumn||0,p=s.endColumn||Number.MAX_VALUE;s.table&&(s=s.table,"string"===typeof s&&(s=v.getElementById(s)),[].forEach.call(s.getElementsByTagName("tr"),(function(o,s){s>=u&&s<=l&&[].forEach.call(o.children,(function(o,l){var c=i[l-d],m=1;if(("TD"===o.tagName||"TH"===o.tagName)&&l>=d&&l<=p)for(i[l-d]||(i[l-d]=[]),i[l-d][s-u]=o.innerHTML;s-u>=m&&void 0===c[s-u-m];)c[s-u-m]=null,m++}))})),this.dataFound());return i};a.prototype.fetchLiveData=function(){function b(o){function k(d,m,v){function n(){l&&i.liveDataURL===d&&(s.liveDataTimeout=setTimeout(b,c))}if(!d||!/^(http|\/|\.\/|\.\.\/)/.test(d))return d&&u.error&&u.error("Invalid URL"),!1;o&&(clearTimeout(s.liveDataTimeout),i.liveDataURL=d);y({url:d,dataType:v||"json",success:function(o){i&&i.series&&m(o);n()},error:function(o,s){3>++p&&n();return u.error&&u.error(s,o)}});return!0}k(d.csvURL,(function(o){i.update({data:{csv:o}})}),"text")||k(d.rowsURL,(function(o){i.update({data:{rows:o}})}))||k(d.columnsURL,(function(o){i.update({data:{columns:o}})}))}var s=this||o,i=(this||o).chart,u=(this||o).options,l=u.enablePolling,d=Y(u),p=0,c=1e3*(u.dataRefreshRate||2);if(!t(u))return!1;1e3>c&&(c=1e3);delete u.csvURL;delete u.rowsURL;delete u.columnsURL;b(!0);return t(u)};a.prototype.parseGoogleSpreadsheet=function(){function b(o){var l=["https://sheets.googleapis.com/v4/spreadsheets",u,"values",h(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+i.googleAPIKey].join("/");y({url:l,dataType:"json",success:function(u){o(u);i.enablePolling&&(s.liveDataTimeout=setTimeout((function(){b(o)}),d))},error:function(o,s){return i.error&&i.error(s,o)}})}var s=this||o,i=(this||o).options,u=i.googleSpreadsheetKey,l=(this||o).chart,d=Math.max(1e3*(i.dataRefreshRate||2),4e3),h=function(){if(i.googleSpreadsheetRange)return i.googleSpreadsheetRange;var o=("ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(i.startColumn||0)||"A")+((i.startRow||0)+1),s="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w(i.endColumn,-1))||"ZZ";x(i.endRow)&&(s+=i.endRow+1);return""+o+":".concat(s)};u&&(delete i.googleSpreadsheetKey,b((function(o){o=o.values;if(!o||0===o.length)return!1;var i=o.reduce((function(o,s){return Math.max(o,s.length)}),0);o.forEach((function(o){for(var s=0;s<i;s++)"undefined"===typeof o[s]&&(o[s]=null)}));l&&l.series?l.update({data:{columns:o}}):(s.columns=o,s.dataFound())})));return!1};a.prototype.trim=function(s,i){"string"===typeof s&&(s=s.replace(/^\s+|\s+$/g,""),i&&/^[0-9\s]+$/.test(s)&&(s=s.replace(/\s/g,"")),(this||o).decimalRegex&&(s=s.replace((this||o).decimalRegex,"$1.$2")));return s};a.prototype.parseTypes=function(){for(var s=(this||o).columns||[],i=s.length;i--;)this.parseColumn(s[i],i)};a.prototype.parseColumn=function(s,i){var u=(this||o).rawColumns,l=(this||o).columns,d=(this||o).firstRowAsNames,p=-1!==(this||o).valueCount.xColumns.indexOf(i),c=[],m=(this||o).chartOptions,v=((this||o).options.columnTypes||[])[i];m=p&&(m&&m.xAxis&&"category"===A(m.xAxis)[0].type||"string"===v);var y,C,T=x(s.name),R=s.length;for(u[i]||(u[i]=[]);R--;){var Y=c[R]||s[R];var D=this.trim(Y);var w=this.trim(Y,!0);var U=parseFloat(w);"undefined"===typeof u[i][R]&&(u[i][R]=D);m||0===R&&d&&!T?s[R]=""+D:+w===U?(s[R]=U,31536e6<U&&"float"!==v?s.isDatetime=!0:s.isNumeric=!0,"undefined"!==typeof s[R+1]&&(C=U>s[R+1])):(D&&D.length&&(y=this.parseDate(Y)),p&&N(y)&&"float"!==v?(c[R]=Y,s[R]=y,s.isDatetime=!0,"undefined"!==typeof s[R+1]&&(Y=y>s[R+1],Y!==C&&"undefined"!==typeof C&&((this||o).alternativeFormat?((this||o).dateFormat=(this||o).alternativeFormat,R=s.length,(this||o).alternativeFormat=(this||o).dateFormats[(this||o).dateFormat].alternative):s.unsorted=!0),C=Y)):(s[R]=""===D?null:D,0!==R&&(s.isDatetime||s.isNumeric)&&(s.mixed=!0)))}p&&s.mixed&&(l[i]=u[i]);if(p&&C&&(this||o).options.sort)for(i=0;i<l.length;i++)l[i].reverse(),d&&l[i].unshift(l[i].pop())};a.prototype.parseDate=function(s){var i,u,l=(this||o).options.parseDate,d=(this||o).options.dateFormat||(this||o).dateFormat;if(l)var p=l(s);else if("string"===typeof s){if(d)(l=(this||o).dateFormats[d])||(l=(this||o).dateFormats["YYYY/mm/dd"]),(u=s.match(l.regex))&&(p=l.parser(u));else for(i in(this||o).dateFormats)if(l=(this||o).dateFormats[i],u=s.match(l.regex)){(this||o).dateFormat=i;(this||o).alternativeFormat=l.alternative;p=l.parser(u);break}u||(s.match(/:.+(GMT|UTC|[Z+-])/)&&(s=s.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),u=Date.parse(s),"object"===typeof u&&null!==u&&u.getTime?p=u.getTime()-6e4*u.getTimezoneOffset():N(u)&&(p=u-6e4*new Date(u).getTimezoneOffset()))}return p};a.prototype.getData=function(){if((this||o).columns)return this.rowsToColumns((this||o).columns).slice(1)};a.prototype.parsed=function(){if((this||o).options.parsed)return(this||o).options.parsed.call(this||o,(this||o).columns)};a.prototype.complete=function(){var s,i,u,l=(this||o).columns,d=(this||o).options,p=[];if(d.complete||d.afterComplete){if((this||o).firstRowAsNames)for(i=0;i<l.length;i++){var c=l[i];x(c.name)||(c.name=w(c.shift(),"").toString())}c=[];var m=l.length;var v=(this||o).valueCount.seriesBuilders;i=[];var y=[];for(u=0;u<m;u+=1)i.push(!0);for(m=0;m<v.length;m+=1){var C=v[m].getReferencedColumnIndexes();for(u=0;u<C.length;u+=1)i[C[u]]=!1}for(u=0;u<i.length;u+=1)i[u]&&y.push(u);for(i=0;i<(this||o).valueCount.seriesBuilders.length;i++)v=(this||o).valueCount.seriesBuilders[i],v.populateColumns(y)&&p.push(v);for(;0<y.length;){v=new j;v.addColumnReader(0,"x");i=y.indexOf(0);-1!==i&&y.splice(i,1);for(i=0;i<(this||o).valueCount.global;i++)v.addColumnReader(void 0,(this||o).valueCount.globalPointArrayMap[i]);v.populateColumns(y)&&p.push(v)}0<p.length&&0<p[0].readers.length&&(y=l[p[0].readers[0].columnIndex],"undefined"!==typeof y&&(y.isDatetime?s="datetime":y.isNumeric||(s="category")));if("category"===s)for(i=0;i<p.length;i++)for(v=p[i],y=0;y<v.readers.length;y++)"x"===v.readers[y].configName&&(v.readers[y].configName="name");for(i=0;i<p.length;i++){v=p[i];y=[];for(u=0;u<l[0].length;u++)y[u]=v.read(l,u);c[i]={data:y};v.name&&(c[i].name=v.name);"category"===s&&(c[i].turboThreshold=0)}l={series:c};s&&(l.xAxis={type:s},"category"===s&&(l.xAxis.uniqueNames=!1));d.complete&&d.complete(l);d.afterComplete&&d.afterComplete(l)}};a.prototype.update=function(s,i){var u=(this||o).chart,l=u.options;s&&(s.afterComplete=function(o){o&&(o.xAxis&&u.xAxis[0]&&o.xAxis.type===u.xAxis[0].options.type&&delete o.xAxis,u.update(o,i,!0))},Y(!0,l.data,s),l.data&&l.data.googleSpreadsheetKey&&!s.columns&&delete l.data.columns,this.init(l.data))};return a}();i(s,"init",(function(s){var i=this||o,u=s.args[1],l=m().data,d=s.args[0]||{};(l||d&&d.data)&&!i.hasDataDef&&(i.hasDataDef=!0,l=Y(l,d.data),i.data=new U(T(l,{afterComplete:function(o){var s;if(Object.hasOwnProperty.call(d,"series"))if("object"===typeof d.series)for(s=Math.max(d.series.length,o&&o.series?o.series.length:0);s--;){var l=d.series[s]||{};d.series[s]=Y(l,o&&o.series?o.series[s]:{})}else delete d.series;d=Y(o,d);i.init(d,u)}}),d,i),s.preventDefault())}));var j=function(){function a(){(this||o).readers=[];(this||o).pointIsArray=!0}a.prototype.populateColumns=function(s){var i=!0;(this||o).readers.forEach((function(o){"undefined"===typeof o.columnIndex&&(o.columnIndex=s.shift())}));(this||o).readers.forEach((function(o){"undefined"===typeof o.columnIndex&&(i=!1)}));return i};a.prototype.read=function(s,i){var u=(this||o).pointIsArray,l=u?[]:{};(this||o).readers.forEach((function(o){var p=s[o.columnIndex][i];u?l.push(p):0<o.configName.indexOf(".")?d.prototype.setNestedProperty(l,p,o.configName):l[o.configName]=p}));if("undefined"===typeof(this||o).name&&2<=(this||o).readers.length){var p=this.getReferencedColumnIndexes();2<=p.length&&(p.shift(),p.sort((function(o,s){return o-s})),(this||o).name=s[p.shift()].name)}return l};a.prototype.addColumnReader=function(s,i){(this||o).readers.push({columnIndex:s,configName:i});"x"!==i&&"y"!==i&&"undefined"!==typeof i&&((this||o).pointIsArray=!1)};a.prototype.getReferencedColumnIndexes=function(){var s,i=[];for(s=0;s<(this||o).readers.length;s+=1){var u=(this||o).readers[s];"undefined"!==typeof u.columnIndex&&i.push(u.columnIndex)}return i};a.prototype.hasReader=function(s){var i;for(i=0;i<(this||o).readers.length;i+=1){var u=(this||o).readers[i];if(u.configName===s)return!0}};return a}();"";return U}));r(s,"masters/modules/data.src.js",[s["Core/Globals.js"],s["Core/HttpUtilities.js"],s["Extensions/Data.js"]],(function(o,s,i){o.ajax=s.ajax;o.data=i.data;o.getJSON=s.getJSON;o.post=s.post;o.Data=i;o.HttpUtilities=s}))}));var i=s;export{i as default};

